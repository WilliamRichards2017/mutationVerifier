include(ExternalProject)

set(MUTATION_VERIFIER_DEPENDENCIES)

include(zlib.cmake)
LIST(APPEND MUTATION_VERIFIER_DEPENDENCIES ${ZLIB_PROJECT})
include(bamtools.cmake)
LIST(APPEND MUTATION_VERIFIER_DEPENDENCIES ${BAMTOOLS_PROJECT})

SET(MUTATION_VERIFIER_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/external CACHE INTERNAL "" FORCE)

SET(MUTATION_VERIFIER_EXTERNAL_PROJECT_DIR ${CMAKE_BINARY_DIR}/externals/mutation_verifier_external_project CACHE INTERNAL "external project dir")
SET(MUTATION_VERIFIER_EXTERNAL_PROJECT mutation_verifier_external_project CACHE INTERNAL "all mutation_verifier external projects")

ExternalProject_Add(${MUTATION_VERIFIER_EXTERNAL_PROJECT}
    DEPENDS ${MUTATION_VERIFIER_DEPENDENCIES}
    DOWNLOAD_COMMAND ""
    SOURCE_DIR ${MUTATION_VERIFIER_SOURCE_DIR}
    BINARY_DIR ${MUTATION_VERIFIER_EXTERNAL_PROJECT_DIR}/bin
    INSTALL_COMMAND ""
    UPDATE_COMMAND ""
    CMAKE_CACHE_ARGS
        -DCMAKE_C_COMPILER:STRING=${CMAKE_C_COMPILER}
        -DCMAKE_CXX_COMPILER:STRING=${CMAKE_CXX_COMPILER}
)
